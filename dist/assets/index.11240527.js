import{c as h,a as y,b as v,r as E,s as L,d as _,e as b}from"./vendor.01dbea13.js";const w=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};w();function B(){const s=document.getElementById("c"),e=s.getContext("webgl",{alpha:!0,premultipliedAlpha:!1});if(!e)return;s.style.display=null;const i=h(e,["vertex-shader","fragment-shader"]),o=y(e,{position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]});let t=document.getElementById("logo_video");var n,m=new Promise((r,p)=>{n=v(e,{video:{src:[0,0,255],format:e.RGB,min:e.LINEAR,wrap:e.CLAMP_TO_EDGE},blackLogo:{src:"/static/BlackLogo.png"}},()=>{r(null)})});let d=-1;function f(){d<0&&(d=performance.now()),E(e.canvas,2),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.seeking||(e.bindTexture(e.TEXTURE_2D,n.video),e.texImage2D(e.TEXTURE_2D,0,e.RGB,e.RGB,e.UNSIGNED_BYTE,t));const r={u_time:(performance.now()-d)/1e3,u_scale:[1,1],u_sampler:n.video,u_logoTexture:n.blackLogo,u_resolution:[e.canvas.clientWidth*2,e.canvas.clientHeight*2],u_videoSize:t.videoWidth>e.canvas.clientWidth*2?[e.canvas.clientWidth*2,t.videoHeight*(e.canvas.clientWidth*2/t.videoWidth)]:[t.videoWidth,t.videoHeight]};e.useProgram(i.program),L(e,i,o),_(i,r),b(e,o),requestAnimationFrame(f)}let a=[t],c=0,g=new Promise((r,p)=>{a.forEach(u=>u==null?void 0:u.addEventListener("play",()=>{c++,console.log("play",c,a.length),c==a.length&&r(null)}))});a.forEach(r=>{r==null||r.addEventListener("loadeddata",()=>{console.log("LOAD"),r.play()}),r==null||r.load()}),Promise.all([m,g]).then(()=>{document.body.classList.add("gl-loaded"),f()})}window.addEventListener("load",B);
